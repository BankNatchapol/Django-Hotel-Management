{% extends "index.html" %}

{% load static %}

{% block title %}invoice{% endblock %}

{% block script %}
    <!-- <script src="{% static 'js/...' %}"></script> -->
{% endblock %}

{% block start %}
<div class="collapse navbar-collapse" id="mainNavBar">
    <div class="col-md-6">
      <ul class="nav navbar-nav navbar-lelf">
        <li><a href="{% url "invoice_forms" %}"><span class="glyphicon glyphicon-calendar"></span> &nbsp; Invoice Forms</a></li>
        <li><a href="{% url "receipt_form" %}"><span class="glyphicon glyphicon-briefcase"></span> &nbsp; Receipt Forms</a></li>
        <li><a href="{% url "report" %}"><span class="glyphicon glyphicon-shopping-cart"></span> &nbsp; Report</a></li>
      </ul>
    </div>
  </div>
</div>

<div class="container" style="font-size: 18px;">
    <div class="row">
        <form method="post" action="//submit.form" onSubmit="return validateForm();" style="border: 1px solid black; margin: 4%; padding:10%; border-radius:1%;">
            <div class="col-lg-6">
                <div style="max-width: 400px;">
            </div>
            <div style="padding-bottom: 18px;font-size : 24px;">
            <bold/><h1>Invoice Forms</h1></div>
            <div style="display: flex; padding-bottom: 18px;max-width : 450px;">
            <div style=" margin-left: 0; margin-right: 1%; width: 49%;">Invoice No.<span style="color: red;"> *</span><br/>
            <input type="text" id="data_2" name="data_2" style="max-width: 100%;" class="form-control" placeholder="8500"/>
            </div>
            <div class="col-lg-6">
                <div style="padding-bottom: 12px;">Invoice date<span style="color: red;"> *</span><br/>
                    <input type="text" id="data_6" name="data_6" style="max-width : 250px;" class="form-control" placeholder="Fri Dec 11 2020"/>
                </div>
                <script type="text/javascript">new Pikaday({ field: document.getElementById('data_6') });</script>
            </div>
            </div><div style="padding-bottom: 18px;">Guest Account ID<span style="color: red;"> *</span><br/>
            <input type="text" id="data_4" name="data_4" style="max-width : 450px;" class="form-control" placeholder="110220xxx"/>
            </div>
            <div style="padding-bottom: 18px;">Guest Name<span style="color: red;"> *</span><br/>
            <input type="text" id="data_5" name="data_5" style="max-width : 450px;" class="form-control" placeholder="Klao"/>
            </div>
            <div style="padding-bottom: 18px;">Booking ID<span style="color: red;"> *</span><br/>
                <input type="text" id="data_5" name="data_5" style="max-width : 450px;" class="form-control" placeholder="196201"/>
            </div>
        </form>
    </div> 
   
            
            <script type="text/javascript">
            function validateForm() {
            if (isEmpty(document.getElementById('data_2').value.trim())) {
            alert('Invoice No is required!');
            return false;
            }
            if (isEmpty(document.getElementById('data_6').value.trim())) {
            alert('Invoice Date is required!');
            return false;
            }
            if (isEmpty(document.getElementById('data_4').value.trim())) {
            alert('Guest Account ID is required!');
            return false;
            }
            if (isEmpty(document.getElementById('data_5').value.trim())) {
            alert('Guest Name is required!');
            return false;
            }
            if (!validateEmail(document.getElementById('data_4').value.trim())) {
            alert('Guest Account ID must be a valid account.');
            return false;
            }
            if (isEmpty(document.getElementById('data_5').value.trim())) {
            alert('Booking ID is required!');
            return false;
            }
            return true;
            }
            function isEmpty(str) { return (str.length === 0 || !str.trim()); }
            </script>

            <table class='table table-bordered table-hover'>
                <thead class="thead-dark">
                <tr>
                    <th>#</th>
                    {% for name in column_name %}
                    <th>{{ name }} </th>
                    {% endfor %}
                </tr>
                </thead>
                <tbody>
            {% for lineitem in data %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ lineitem.invoice_no }}</td>
                    <td>{{ lineitem.invoice_date|default:""}}</td>
                    <td>{{ lineitem.account_id }}</td>
                    <!--td>{{ lineitem.customer_name }}</td-->
                    <td>{{ lineitem.due_date|default:""  }}</td>
                    <td>{{ lineitem.total|intcomma }}</td>
                    <td>{{ lineitem.vat|intcomma }}</td>
                    <td>{{ lineitem.amount_due|intcomma }}</td>
                <tr>
            {% endfor %}
                </tbody>
</div>
{% endblock start %}